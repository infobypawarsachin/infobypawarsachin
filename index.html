<!DOCTYPE html>
<html lang="te">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Station Thanda Official | Digital Village & Study Hub</title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

<style>
:root { --saffron: #FF8C00; --deep-saffron: #FF4500; }
.saffron-gradient { background: linear-gradient(135deg, var(--saffron) 0%, var(--deep-saffron) 100%); }
.memorial-frame { border: 3px solid #d4af37; box-shadow: 0 0 15px rgba(212,175,55,0.6); }
.tab-content { display: none; }
.tab-content.active { display: block; }
#villageMap { height: 350px; width: 100%; border-radius: 15px; }

/* Admin Visibility */
.owner-zone { display: none; }
.is-owner .owner-zone { display: block; }

/* Drawing Sheet UI */
#drawingModal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; }
canvas { touch-action: none; cursor: crosshair; background: white; }
</style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans" id="mainBody">

<header class="saffron-gradient text-white sticky top-0 z-[1001] shadow-xl">
<div class="container mx-auto px-4 py-4 flex justify-between items-center">
<div>
<h1 class="text-xl font-bold tracking-widest uppercase" data-key="title">Station Thanda</h1>
<p class="text-[10px] text-yellow-200 font-bold uppercase" data-key="subtitle">Digital Gram Panchayat</p>
<button id="langToggle" class="mt-2 bg-white/20 px-3 py-1 rounded-full text-[10px] border border-white/40">తెలుగు / English</button>
</div>

<div class="flex flex-col items-center text-center">
<div class="w-14 h-14 bg-gray-200 rounded-full memorial-frame overflow-hidden mb-1">
<img src="https://via.placeholder.com/100?text=Honor" alt="Memorial" class="w-full h-full object-cover">
</div>
<div class="text-[8px] font-bold uppercase text-yellow-300">
<p data-key="memory">In Memory of</p>
<p class="text-white">Late V. Noorsingh Nayak</p>
</div>
</div>
</div>

<nav class="flex overflow-x-auto bg-black/20 text-[10px] font-bold uppercase py-3 px-4 space-x-6 border-t border-white/10">
<button onclick="openTab('home')" class="whitespace-nowrap" data-key="nav-home">Home</button>
<button onclick="openTab('schemes')" class="whitespace-nowrap" data-key="nav-schemes">Schemes</button>
<button onclick="openTab('study')" class="whitespace-nowrap" data-key="nav-study">Study Hub</button>
<button onclick="openTab('mapTab')" class="whitespace-nowrap" data-key="nav-map">Map</button>
<button onclick="login()" class="text-yellow-300 whitespace-nowrap"><i class="fa fa-lock"></i> Admin</button>
</nav>
</header>

<main class="container mx-auto p-4 max-w-4xl pb-20">

<section class="mb-6 bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex items-center space-x-4">
<div class="w-16 h-16 bg-blue-100 rounded-lg overflow-hidden border-2 border-blue-500">
<img src="https://via.placeholder.com/100?text=User" alt="Sarpanch" class="w-full h-full object-cover">
</div>
<div>
<p class="text-[10px] font-bold text-blue-600 uppercase" data-key="role">Village Sarpanch</p>
<h2 class="text-lg font-bold" data-key="sarpanch-name">Sarpanch Name Here</h2>
<p class="text-xs text-gray-500 italic" data-key="motto">Leading Station Thanda towards progress.</p>
</div>
</section>

<div id="home" class="tab-content active space-y-4">
<div class="bg-white p-4 rounded-2xl shadow-sm border-t-4 border-orange-500">
<h2 class="text-sm font-bold mb-3 uppercase flex items-center italic">
<i class="fa fa-bolt text-yellow-500 mr-2 animate-pulse"></i> Live News & Updates
</h2>
<div class="rounded-xl overflow-hidden border border-gray-100 h-[400px]">
<iframe src="https://rss.app/embed/v1/wall/tCByzE8w9t7p8k5R" frameborder="0" width="100%" height="100%"></iframe>
</div>
</div>
</div>

<div id="schemes" class="tab-content space-y-4">
<div class="bg-blue-900 text-white p-6 rounded-2xl shadow-xl">
<h2 class="text-lg font-bold mb-4 text-yellow-400 italic uppercase"><i class="fa fa-search mr-2"></i> Status Checker</h2>
<div class="space-y-3">
<select id="schemeSelect" class="w-full p-3 bg-white/10 border border-white/20 rounded-xl text-sm text-white focus:text-gray-800 focus:bg-white outline-none">
<option value="">-- Select Scheme --</option>
<option value="https://rythubharosa.telangana.gov.in/">Rythu Bharosa</option>
<option value="https://pmkisan.gov.in/">PM-Kisan</option>
<option value="https://epds.telangana.gov.in/">Ration Card</option>
</select>
<button onclick="checkStatus()" class="w-full bg-yellow-500 text-blue-900 font-bold py-3 rounded-xl uppercase text-xs">Open Official Portal</button>
</div>
</div>
</div>

<div id="study" class="tab-content space-y-6">
<div class="bg-white rounded-2xl shadow-md border-t-8 border-green-600 overflow-hidden">
<div class="p-4 bg-green-50 border-b flex justify-between items-center">
<h3 class="font-bold text-green-800"><i class="fa fa-seedling mr-2"></i> Agriculture (వ్యవసాయం)</h3>
</div>
<div class="p-4">
<div class="aspect-video bg-black rounded-xl mb-4 overflow-hidden">
<iframe class="w-full h-full" src="https://www.youtube.com/embed/videoseries?list=PL_Xv6luep8_ajkS9897u6N_7vX7D1M_H_"></iframe>
</div>
<div id="agDisp" class="p-3 bg-gray-50 rounded-xl text-sm border-l-4 border-green-500 mb-4">Loading updates...</div>
<div class="owner-zone bg-yellow-50 p-4 rounded-xl border border-dashed border-yellow-600">
<textarea id="agEdit" class="w-full p-2 border rounded-lg text-sm mb-2" placeholder="Write Agri news..."></textarea>
<button onclick="updateData('agEdit','agDisp')" class="bg-green-600 text-white px-4 py-2 rounded-lg font-bold text-xs w-full">Save Agri Update</button>
</div>
</div>
</div>

<div class="bg-white rounded-2xl shadow-md border-t-8 border-blue-600 overflow-hidden">
<div class="p-4 bg-blue-50 border-b">
<h3 class="font-bold text-blue-800"><i class="fa fa-graduation-cap mr-2"></i> Student Study Hub</h3>
</div>
<div class="p-4 space-y-4">
<button onclick="openCanvas()" class="w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg flex items-center justify-center gap-3">
<i class="fa fa-pencil-alt"></i> OPEN DIGITAL ROUGH SHEET
</button>
<div id="stDisp" class="p-3 bg-gray-50 rounded-xl text-sm border-l-4 border-blue-500">No new study alerts.</div>
<div class="owner-zone bg-yellow-50 p-4 rounded-xl border border-dashed border-yellow-600">
<textarea id="stEdit" class="w-full p-2 border rounded-lg text-sm mb-2" placeholder="Write Study news..."></textarea>
<button onclick="updateData('stEdit','stDisp')" class="bg-blue-600 text-white px-4 py-2 rounded-lg font-bold text-xs w-full">Save Study Update</button>
</div>
</div>
</div>
</div>

<div id="mapTab" class="tab-content space-y-4">
<div class="bg-white p-4 rounded-2xl shadow-lg border-t-4 border-blue-500">
<h2 class="font-bold text-lg mb-3 text-blue-900 italic underline" data-key="map-title">Village Roadmap</h2>
<div id="villageMap"></div>
</div>
</div>

</main>

<div id="drawingModal">
<div class="absolute top-5 left-5 right-5 bottom-5 bg-white rounded-2xl flex flex-col overflow-hidden">
<div class="p-4 bg-gray-100 flex gap-3 flex-wrap">
<button onclick="setTool('pencil')" class="bg-orange-500 text-white px-4 py-2 rounded-lg font-bold">Pencil</button>
<button onclick="setTool('eraser')" class="bg-gray-300 px-4 py-2 rounded-lg font-bold">Eraser</button>
<button onclick="clearCanvas()" class="bg-red-500 text-white px-4 py-2 rounded-lg font-bold">Clear</button>
<button onclick="closeCanvas()" class="ml-auto bg-black text-white px-4 py-2 rounded-lg font-bold">Close</button>
</div>
<canvas id="roughCanvas" class="flex-grow"></canvas>
</div>
</div>

<footer class="text-center py-10 text-gray-400 text-[10px] uppercase font-bold tracking-widest border-t mt-10" data-key="footer">
Station Thanda Page © 2025 | Honorable V. Noorsingh Nayak
</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const pass = "5292";
let currentLang = localStorage.getItem('st_lang') || 'te';

const translations = {
en: {
title: "Station Thanda", subtitle: "Digital Gram Panchayat", memory: "In Memory of",
"nav-home": "Home", "nav-schemes": "Schemes", "nav-study": "Study Hub", "nav-map": "Map",
role: "Village Sarpanch", motto: "Leading progress.", "map-title": "Village Roadmap",
footer: "Station Thanda Page © 2025 | Honorable V. Noorsingh Nayak"
},
te: {
title: "స్టేషన్ తండా", subtitle: "డిజిటల్ గ్రామ పంచాయతీ", memory: "జ్ఞాపకార్థం",
"nav-home": "హోమ్", "nav-schemes": "పథకాలు", "nav-study": "స్టడీ హబ్", "nav-map": "మ్యాప్",
role: "గ్రామ సర్పంచ్", motto: "ప్రగతి పథంలో నడిపిస్తూ..", "map-title": "గ్రామ మ్యాప్",
footer: "స్టేషన్ తండా పేజీ © 2025 | గౌరవనీయులు వి. నూర్సింగ్ నాయక్"
}
};

function applyLang() {
document.querySelectorAll('[data-key]').forEach(el => {
const key = el.getAttribute('data-key');
el.innerText = translations[currentLang][key] || el.innerText;
});
}

document.getElementById('langToggle').addEventListener('click', () => {
currentLang = currentLang === 'te' ? 'en' : 'te';
localStorage.setItem('st_lang', currentLang);
applyLang();
});

function openTab(id) {
document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
document.getElementById(id).classList.add('active');
if(id === 'mapTab') initMap();
window.scrollTo(0,0);
}

function login() {
if(prompt("Admin Password:") === pass) {
document.getElementById('mainBody').classList.add('is-owner');
alert("Owner Mode Active!");
}
}

function updateData(editId, dispId) {
const val = document.getElementById(editId).value;
localStorage.setItem(editId, val);
document.getElementById(dispId).innerText = val;
alert("Saved!");
}

function loadSaved() {
['agEdit','stEdit'].forEach(id => {
const saved = localStorage.getItem(id);
if(saved) {
document.getElementById(id).value = saved;
document.getElementById(id.replace('Edit','Disp')).innerText = saved;
}
});
}

function checkStatus() {
const url = document.getElementById('schemeSelect').value;
if(url) window.open(url, '_blank');
}

function initMap() {
if (window._vMap) return;
const map = L.map('villageMap').setView([17.3850, 78.4867], 15);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
L.marker([17.3850, 78.4867]).addTo(map).bindPopup('Station Thanda');
window._vMap = map;
}

const canvas = document.getElementById('roughCanvas');
const ctx = canvas.getContext('2d');
let drawing = false;

function openCanvas() {
document.getElementById('drawingModal').style.display = 'block';
canvas.width = canvas.offsetWidth;
canvas.height = canvas.offsetHeight;
setTool('pencil');
}
function closeCanvas() { document.getElementById('drawingModal').style.display = 'none'; }
function setTool(t) { ctx.lineWidth = t==='eraser'?40:3; ctx.strokeStyle = t==='eraser'?'#fff':'#333'; ctx.lineCap='round'; }
function clearCanvas() { ctx.clearRect(0,0,canvas.width,canvas.height); }
function startDraw(e) { drawing=true; draw(e); }
function endDraw() { drawing=false; ctx.beginPath(); }
function draw(e) {
if(!drawing) return;
const r = canvas.getBoundingClientRect();
const x = (e.clientX || (e.touches && e.touches[0].clientX)) - r.left;
const y = (e.clientY || (e.touches && e.touches[0].clientY)) - r.top;
ctx.lineTo(x,y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x,y);
}
canvas.addEventListener('mousedown', startDraw); canvas.addEventListener('mouseup', endDraw); canvas.addEventListener('mousemove', draw);
canvas.addEventListener('touchstart', startDraw); canvas.addEventListener('touchend', endDraw); canvas.addEventListener('touchmove', draw);

applyLang();
loadSaved();
</script>
</body>
</html>
